<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Carrito - CecyShop</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .test-section { margin: 20px 0; padding: 20px; border: 1px solid #ddd; }
        .btn { padding: 10px 20px; margin: 5px; cursor: pointer; }
        .qty-btn { background: #27ae60; color: white; border: none; padding: 5px 10px; }
        .quantity { margin: 0 10px; font-weight: bold; }
        .results { background: #f0f0f0; padding: 10px; margin: 10px 0; }
    </style>
</head>
<body>
    <h1>Test de Funcionalidad del Carrito</h1>
    
    <div id="testResults" class="results"></div>
    
    <div class="test-section">
        <h2>Test 1: Agregar al Carrito</h2>
        <button class="btn add-to-cart" data-product-id="1">
            Agregar Producto 1
        </button>
        <button class="btn add-to-cart" data-product-id="2">
            Agregar Producto 2
        </button>
    </div>
    
    <div class="test-section">
        <h2>Test 2: Actualizar Cantidades</h2>
        <p>Simular item del carrito con ID 1:</p>
        <button class="qty-btn" onclick="updateQuantity(1, -1)">-</button>
        <span class="quantity" id="qty-1">2</span>
        <button class="qty-btn" onclick="updateQuantity(1, 1)">+</button>
        <span>Total: <span id="total-1">$200.00 MXN</span></span>
    </div>
    
    <div class="test-section">
        <h2>Test 3: Totales del Carrito</h2>
        <p>Subtotal: <span id="subtotal">$200.00 MXN</span></p>
        <p>Total: <span id="grandTotal">$200.00 MXN</span></p>
        <button class="btn" onclick="updateCartTotals()">Recalcular Totales</button>
    </div>
    
    <script src="/static/js/cart-simple.js"></script>
    
    <script>
        function log(message) {
            const resultsDiv = document.getElementById('testResults');
            const p = document.createElement('p');
            p.textContent = new Date().toLocaleTimeString() + ': ' + message;
            resultsDiv.appendChild(p);
            console.log(message);
        }
        
        // Override console.log para mostrar en página
        const originalLog = console.log;
        console.log = function(message) {
            originalLog(message);
            log(message);
        };
        
        // Override alert para mostrar en página
        const originalAlert = window.alert;
        window.alert = function(message) {
            log('ALERT: ' + message);
            originalAlert(message);
        };
        
        log('Test page loaded');
    </script>
</body>
</html>
