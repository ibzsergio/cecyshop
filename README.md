# üå± CecyShop - E-commerce Minimalista

CecyShop es una aplicaci√≥n web completa de comercio electr√≥nico desarrollada con Flask, MySQL y dise√±o minimalista en tonos verdes. Incluye funcionalidades de carrito de compras, panel de administraci√≥n, sistema de autenticaci√≥n y procesamiento de pagos.

## üìã Tabla de Contenidos

- [Caracter√≠sticas](#caracter√≠sticas)
- [Tecnolog√≠as Utilizadas](#tecnolog√≠as-utilizadas)
- [Instalaci√≥n](#instalaci√≥n)
- [Configuraci√≥n](#configuraci√≥n)
- [Uso](#uso)
- [Estructura del Proyecto](#estructura-del-proyecto)
- [API Endpoints](#api-endpoints)
- [Base de Datos](#base-de-datos)
- [Funcionalidades](#funcionalidades)
- [Seguridad](#seguridad)
- [Responsive Design](#responsive-design)
- [Contribuir](#contribuir)
- [Licencia](#licencia)

## ‚ú® Caracter√≠sticas

### üõçÔ∏è Para Clientes
- **Cat√°logo de productos** con m√°s de 20 productos de muestra
- **Carrito de compras** interactivo y persistente
- **Proceso de checkout** completo con validaci√≥n
- **Sistema de autenticaci√≥n** seguro (registro/login)
- **Historial de pedidos** personalizado
- **Interfaz responsive** para m√≥viles y desktop
- **B√∫squeda y filtros** de productos

### üë®‚Äçüíº Para Administradores
- **Panel de administraci√≥n** completo
- **Gesti√≥n de productos** (crear, editar, eliminar)
- **Dashboard con estad√≠sticas** de ventas
- **Gesti√≥n de pedidos** y estados
- **Control de inventario** autom√°tico
- **Subida de im√°genes** para productos

### üé® Dise√±o
- **Interfaz minimalista** en tonos verdes
- **Men√∫ flotante** atractivo y funcional
- **Animaciones suaves** y transiciones
- **Dise√±o totalmente responsive**
- **UX optimizada** para conversiones

## üõ†Ô∏è Tecnolog√≠as Utilizadas

### Backend
- **Flask** 2.3.3 - Framework web de Python
- **Flask-SQLAlchemy** - ORM para base de datos
- **Flask-Login** - Gesti√≥n de sesiones de usuario
- **MySQL** - Base de datos relacional
- **PyMySQL** - Conector MySQL para Python
- **Werkzeug** - Herramientas WSGI

### Frontend
- **HTML5** - Estructura sem√°ntica
- **CSS3** - Estilos con variables CSS y Flexbox/Grid
- **JavaScript ES6+** - Interactividad y AJAX
- **Font Awesome** - Iconograf√≠a
- **Responsive Design** - Mobile-first approach

### Herramientas
- **Jinja2** - Motor de plantillas
- **Python-dotenv** - Gesti√≥n de variables de entorno

## üì¶ Instalaci√≥n

### Prerrequisitos
- Python 3.8 o superior
- MySQL Server 8.0 o superior
- pip (gestor de paquetes de Python)

### Paso 1: Clonar el repositorio
```bash
git clone https://github.com/tu-usuario/cecyshop.git
cd cecyshop
```

### Paso 2: Crear entorno virtual
```bash
python -m venv venv

# Windows
venv\Scripts\activate

# macOS/Linux
source venv/bin/activate
```

### Paso 3: Instalar dependencias
```bash
pip install -r requirements.txt
```

### Paso 4: Configurar MySQL
```sql
-- Conectar a MySQL como root
mysql -u root -p

-- Crear base de datos
CREATE DATABASE ecommerce_db CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;

-- Crear usuario (opcional)
CREATE USER 'ecommerce_user'@'localhost' IDENTIFIED BY 'tu_password';
GRANT ALL PRIVILEGES ON ecommerce_db.* TO 'ecommerce_user'@'localhost';
FLUSH PRIVILEGES;
```

### Paso 5: Configurar variables de entorno
```bash
# Copiar archivo de ejemplo
cp .env.example .env

# Editar .env con tus configuraciones
# DATABASE_URL=mysql://root:password@localhost/ecommerce_db
```

### Paso 6: Inicializar base de datos y datos de prueba
```bash
python populate_db.py
```

### Paso 7: Ejecutar aplicaci√≥n
```bash
python app.py
```

La aplicaci√≥n estar√° disponible en: `http://localhost:5000`

## ‚öôÔ∏è Configuraci√≥n

### Variables de Entorno
Crea un archivo `.env` basado en `.env.example`:

```env
SECRET_KEY=tu_clave_secreta_muy_segura
DATABASE_URL=mysql://root:password@localhost/ecommerce_db
DEBUG=True
UPLOAD_FOLDER=static/uploads
```

### Configuraci√≥n de Base de Datos
La aplicaci√≥n soporta diferentes configuraciones de MySQL:

```python
# Configuraci√≥n b√°sica (app.py)
app.config['SQLALCHEMY_DATABASE_URI'] = 'mysql://root:password@localhost/ecommerce_db'

# Con usuario personalizado
app.config['SQLALCHEMY_DATABASE_URI'] = 'mysql://usuario:password@localhost/ecommerce_db'

# Con puerto personalizado
app.config['SQLALCHEMY_DATABASE_URI'] = 'mysql://root:password@localhost:3307/ecommerce_db'
```

## üìñ Uso

### Credenciales por Defecto

**Administrador:**
- Usuario: `admin`
- Contrase√±a: `admin123`

**Usuario de Prueba:**
- Usuario: `usuario_prueba`
- Contrase√±a: `123456`

### Flujo de Usuario

1. **Registro/Login:** Los usuarios pueden crear cuenta o iniciar sesi√≥n
2. **Explorar productos:** Navegar por el cat√°logo de 20+ productos
3. **Agregar al carrito:** Seleccionar productos y cantidades
4. **Checkout:** Completar informaci√≥n de env√≠o y pago
5. **Confirmaci√≥n:** Recibir confirmaci√≥n de pedido

### Flujo de Administrador

1. **Login como admin:** Usar credenciales de administrador
2. **Dashboard:** Ver estad√≠sticas de ventas y productos
3. **Gestionar productos:** Crear, editar y eliminar productos
4. **Ver pedidos:** Monitorear pedidos de clientes

## üìÅ Estructura del Proyecto

```
cecyshop/
‚îú‚îÄ‚îÄ app.py                 # Aplicaci√≥n principal Flask
‚îú‚îÄ‚îÄ requirements.txt       # Dependencias de Python
‚îú‚îÄ‚îÄ populate_db.py        # Script para datos de prueba
‚îú‚îÄ‚îÄ database_setup.sql    # Configuraci√≥n de MySQL
‚îú‚îÄ‚îÄ .env.example          # Plantilla de variables de entorno
‚îú‚îÄ‚îÄ README.md             # Documentaci√≥n
‚îú‚îÄ‚îÄ templates/            # Plantillas HTML
‚îÇ   ‚îú‚îÄ‚îÄ base.html         # Plantilla base
‚îÇ   ‚îú‚îÄ‚îÄ index.html        # P√°gina principal
‚îÇ   ‚îú‚îÄ‚îÄ login.html        # P√°gina de login
‚îÇ   ‚îú‚îÄ‚îÄ register.html     # P√°gina de registro
‚îÇ   ‚îú‚îÄ‚îÄ cart.html         # Carrito de compras
‚îÇ   ‚îú‚îÄ‚îÄ checkout.html     # Proceso de pago
‚îÇ   ‚îú‚îÄ‚îÄ orders.html       # Historial de pedidos
‚îÇ   ‚îú‚îÄ‚îÄ product_detail.html # Detalle de producto
‚îÇ   ‚îî‚îÄ‚îÄ admin/            # Plantillas de administraci√≥n
‚îÇ       ‚îú‚îÄ‚îÄ dashboard.html
‚îÇ       ‚îú‚îÄ‚îÄ products.html
‚îÇ       ‚îú‚îÄ‚îÄ add_product.html
‚îÇ       ‚îî‚îÄ‚îÄ edit_product.html
‚îú‚îÄ‚îÄ static/               # Archivos est√°ticos
‚îÇ   ‚îú‚îÄ‚îÄ css/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ style.css     # Estilos CSS principales
‚îÇ   ‚îú‚îÄ‚îÄ js/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ script.js     # JavaScript principal
‚îÇ   ‚îú‚îÄ‚îÄ images/           # Im√°genes del proyecto
‚îÇ   ‚îî‚îÄ‚îÄ uploads/          # Im√°genes subidas por usuarios
```

## üîå API Endpoints

### Rutas Principales
```
GET  /                    # P√°gina principal con productos
GET  /login               # P√°gina de login
POST /login               # Procesar login
GET  /register            # P√°gina de registro
POST /register            # Procesar registro
GET  /logout              # Cerrar sesi√≥n
```

### Rutas de Productos
```
GET  /product/<id>        # Detalle de producto
GET  /add_to_cart/<id>    # Agregar producto al carrito
```

### Rutas de Carrito y Compras
```
GET  /cart                # Ver carrito
GET  /remove_from_cart/<id> # Eliminar del carrito
GET  /checkout            # P√°gina de checkout
POST /checkout            # Procesar compra
GET  /orders              # Historial de pedidos
```

### Rutas de Administraci√≥n
```
GET  /admin               # Dashboard de administraci√≥n
GET  /admin/products      # Lista de productos
GET  /admin/product/add   # Formulario agregar producto
POST /admin/product/add   # Crear producto
GET  /admin/product/edit/<id> # Formulario editar producto
POST /admin/product/edit/<id> # Actualizar producto
GET  /admin/product/delete/<id> # Eliminar producto
```

## üóÑÔ∏è Base de Datos

### Modelo de Datos

#### Tabla `user`
```sql
id              INT PRIMARY KEY AUTO_INCREMENT
username        VARCHAR(80) UNIQUE NOT NULL
email           VARCHAR(120) UNIQUE NOT NULL
password_hash   VARCHAR(255) NOT NULL
is_admin        BOOLEAN DEFAULT FALSE
created_at      DATETIME DEFAULT CURRENT_TIMESTAMP
```

#### Tabla `product`
```sql
id              INT PRIMARY KEY AUTO_INCREMENT
name            VARCHAR(100) NOT NULL
description     TEXT
price           DECIMAL(10,2) NOT NULL
image_url       VARCHAR(255)
stock           INT DEFAULT 0
category        VARCHAR(50)
created_at      DATETIME DEFAULT CURRENT_TIMESTAMP
```

#### Tabla `cart_item`
```sql
id              INT PRIMARY KEY AUTO_INCREMENT
user_id         INT FOREIGN KEY REFERENCES user(id)
product_id      INT FOREIGN KEY REFERENCES product(id)
quantity        INT DEFAULT 1
```

#### Tabla `order`
```sql
id              INT PRIMARY KEY AUTO_INCREMENT
user_id         INT FOREIGN KEY REFERENCES user(id)
total           DECIMAL(10,2) NOT NULL
status          VARCHAR(20) DEFAULT 'pending'
created_at      DATETIME DEFAULT CURRENT_TIMESTAMP
```

#### Tabla `order_item`
```sql
id              INT PRIMARY KEY AUTO_INCREMENT
order_id        INT FOREIGN KEY REFERENCES order(id)
product_id      INT FOREIGN KEY REFERENCES product(id)
quantity        INT NOT NULL
price           DECIMAL(10,2) NOT NULL
```

## üîß Funcionalidades

### Sistema de Autenticaci√≥n
- **Registro de usuarios** con validaci√≥n de email
- **Login seguro** con hash de contrase√±as
- **Gesti√≥n de sesiones** con Flask-Login
- **Protecci√≥n de rutas** administrativas

### Carrito de Compras
- **Persistencia de carrito** por usuario
- **Actualizaci√≥n de cantidades** en tiempo real
- **C√°lculo autom√°tico** de totales
- **Validaci√≥n de stock** disponible

### Panel de Administraci√≥n
- **Dashboard con m√©tricas** de ventas
- **CRUD completo** de productos
- **Gesti√≥n de inventario** autom√°tica
- **Estad√≠sticas visuales** de negocio

### Procesamiento de Pagos
- **Formulario de checkout** completo
- **Validaci√≥n de datos** de pago
- **Simulaci√≥n de procesamiento** (listo para integrar payment gateway)
- **Confirmaci√≥n de pedidos** autom√°tica

## üîí Seguridad

### Medidas Implementadas
- **Hash de contrase√±as** con Werkzeug
- **Protecci√≥n CSRF** con tokens
- **Validaci√≥n de formularios** en cliente y servidor
- **Sanitizaci√≥n de entradas** autom√°tica con SQLAlchemy
- **Sesiones seguras** con Flask-Login
- **Variables de entorno** para datos sensibles

### Configuraci√≥n de Seguridad
```python
# Configuraci√≥n de seguridad en app.py
app.config['SECRET_KEY'] = secrets.token_hex(16)
app.config['WTF_CSRF_ENABLED'] = True
app.config['WTF_CSRF_TIME_LIMIT'] = None
```

## üì± Responsive Design

### Breakpoints
- **Desktop:** > 1200px - Layout completo
- **Tablet:** 768px - 1200px - Grid adaptado
- **Mobile:** < 768px - Layout de una columna
- **Small Mobile:** < 480px - Interfaz optimizada

### Caracter√≠sticas Responsive
- **Men√∫ hamburguesa** en m√≥viles
- **Grid de productos** adaptativo
- **Formularios optimizados** para touch
- **Navegaci√≥n simplificada** en pantallas peque√±as

## üé® Personalizaci√≥n

### Colores Principales (CSS Variables)
```css
:root {
    --primary-color: #27ae60;      /* Verde principal */
    --primary-dark: #229954;       /* Verde oscuro */
    --primary-light: #58d68d;      /* Verde claro */
    --secondary-color: #2c3e50;    /* Gris oscuro */
    --accent-color: #f39c12;       /* Naranja de acento */
}
```

### Tipograf√≠a
- **Fuente principal:** Arial, sans-serif
- **Tama√±os responsivos** con rem
- **Jerarqu√≠a clara** de headings

## üöÄ Deployment

### Preparaci√≥n para Producci√≥n
1. **Configurar variables de entorno**
2. **Usar base de datos remota**
3. **Configurar servidor web** (Nginx + Gunicorn)
4. **Activar SSL/HTTPS**
5. **Configurar dominio personalizado**

### Docker (Opcional)
```dockerfile
FROM python:3.9-slim
WORKDIR /app
COPY requirements.txt .
RUN pip install -r requirements.txt
COPY . .
EXPOSE 5000
CMD ["python", "app.py"]
```

## üìä Performance

### Optimizaciones Implementadas
- **Lazy loading** de im√°genes
- **Minificaci√≥n** de CSS/JS
- **Compresi√≥n** de im√°genes
- **Cache** de consultas frecuentes
- **CDN** para Font Awesome

## üß™ Testing

### Datos de Prueba
El script `populate_db.py` crea:
- **20+ productos** de muestra
- **Usuarios de prueba** con diferentes roles
- **Categor√≠as diversas** de productos
- **Datos realistas** para testing

## ü§ù Contribuir

1. **Fork** el proyecto
2. **Crear rama** para nueva funcionalidad
3. **Commit** cambios con mensajes descriptivos
4. **Push** a la rama
5. **Crear Pull Request**

### Gu√≠as de Contribuci√≥n
- Seguir **PEP 8** para Python
- **Comentar c√≥digo** complejo
- **Probar funcionalidades** antes de PR
- **Actualizar documentaci√≥n** si es necesario

## üìù Notas de Desarrollo

### Pr√≥ximas Mejoras
- [ ] Integraci√≥n con **payment gateway real**
- [ ] **Sistema de reviews** de productos
- [ ] **Wishlist** de usuarios
- [ ] **Notificaciones email** autom√°ticas
- [ ] **API REST** completa
- [ ] **Dashboard analytics** avanzado
- [ ] **Multi-idioma** (i18n)
- [ ] **PWA** (Progressive Web App)

### Problemas Conocidos
- Integraci√≥n de pagos es **simulada**
- Im√°genes de productos usan **URLs externas**
- No hay **sistema de env√≠o** real
- **Cache** no implementado para producci√≥n

## üìÑ Licencia

Este proyecto est√° bajo la Licencia MIT. Ver el archivo `LICENSE` para m√°s detalles.

## üìû Soporte

Para soporte t√©cnico o preguntas:
- **Email:** soporte@cecyshop.com
- **Issues:** GitHub Issues
- **Documentaci√≥n:** Este README

---

**Desarrollado con üíö por Sergio Iba√±ez**

*¬øTe gusta el proyecto? ¬°Dale una ‚≠ê en GitHub!*
